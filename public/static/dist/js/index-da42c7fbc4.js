!function r(c,i,a){function s(n,e){if(!i[n]){if(!c[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);throw new Error("Cannot find module '"+n+"'")}var o=i[n]={exports:{}};c[n][0].call(o.exports,function(e){var t=c[n][1][e];return s(t||e)},o,o.exports,r,c,i,a)}return i[n].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return function(e,t){return t||(t=e,e=0),Math.round(Math.random()*(t-e)+e)}},"object"===(void 0===n?"undefined":r(n))&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.randomNum=o())},{}],2:[function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c}},"object"===(void 0===n?"undefined":r(n))&&void 0!==t?t.exports=function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c}:"function"==typeof define&&define.amd?define(o):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.sku=function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c})},{}],3:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=e("zhf.random-num"),c=e("zhf.sku");new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var a=document.querySelectorAll(".prize-item"),s=document.querySelector(".lamp"),u=document.querySelector(".handle"),l=$(".btn-remainder-num"),t=$(".message"),f=$(".luck"),d=$(".luck-gift"),m=$(".btn"),e=$(".transparent"),n=$(".tel"),o=$(".rule"),h=3,p=null,v=!1,y=c([[1,2,3,4,5],[1,2,3,4,5],[1,2,3,4,5]]);function b(){e.addClass("transparent_show")}function w(){e.removeClass("transparent_show")}function _(e){t.addClass("message_show"),t.find(".message-info").html(e),clearTimeout(_.timer),_.timer=setTimeout(function(){r()},3e3)}function r(){t.removeClass("message_show")}y.forEach(function(e,t,n){e[0]===e[1]&&e[0]===e[2]&&n.splice(t,1)}),$(".rule-btn").on("click",function(){o.addClass("rule_show")}),$(".rule-close").on("click",function(){o.removeClass("rule_show")}),$(".handle-btn,.btn").on("click",function(){0!==h?/1\d{10}/.test(n.val())?(b(),v||(v=!0,$.ajax({url:"/lottery/getPrize",method:"get",data:{mobile:n.val()},dataType:"json",success:function(e){if("failure"===e.status)return _(e.message),v=!1,void w();var t=e.prizeInfo,n=t.prize_id,c=t.prize_name;h=e.left_lottery_count;var i=[];if(0===n){var o=y[g(0,y.length-1)];i=i.concat(o)}else for(var r=0;r<3;r++)i.push(n);u.classList.remove("handle_selected1"),u.classList.add("handle_selected2"),setTimeout(function(){u.classList.remove("handle_selected2"),u.classList.add("handle_selected3")},200),setTimeout(function(){var o,r;o=i,r=h,a.forEach(function(e,t){var n=parseFloat(-(15*(3-r+1)*667.5+133.5*(o[t]-1))/37.5+"rem");n="".concat(Math.floor(parseFloat($("html").css("font-size"))*n),"px"),e.style.backgroundPosition="0 ".concat(n)}),p=setInterval(function(){s.classList.toggle("lamp_selected")},160),setTimeout(function(){v=!1,w(),clearInterval(p),s.classList.remove("lamp_selected"),u.classList.remove("handle_selected3"),u.classList.add("handle_selected2"),setTimeout(function(){u.classList.remove("handle_selected2"),u.classList.add("handle_selected1")},200),l.html(h),m.addClass("btn_active"),0===n?_("抱歉，未中奖!"):(f.addClass("luck_show"),b(),d.html(c))},3400)},200)}}))):_("请输入正确的11位手机号码!"):_("留一点运气，明天再来吧!")}),$(".message-close").on("click",function(){r()}),$(".luck-close").on("click",function(){f.removeClass("luck_show"),w()})}}])&&r(t.prototype,n),o&&r(t,o),e}())},{"zhf.random-num":1,"zhf.sku":2}]},{},[3]);