!function r(c,i,s){function a(n,e){if(!i[n]){if(!c[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);throw new Error("Cannot find module '"+n+"'")}var o=i[n]={exports:{}};c[n][0].call(o.exports,function(e){var t=c[n][1][e];return a(t||e)},o,o.exports,r,c,i,s)}return i[n].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return function(e,t){return t||(t=e,e=0),Math.round(Math.random()*(t-e)+e)}},"object"===(void 0===n?"undefined":r(n))&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.randomNum=o())},{}],2:[function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c}},"object"===(void 0===n?"undefined":r(n))&&void 0!==t?t.exports=function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c}:"function"==typeof define&&define.amd?define(o):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.sku=function(e){var t=e.length,r=0,c=[];return 0!==t&&(e[0].forEach(function(e){c.push([e])}),function e(n){if(++r<t){var o=[];c.forEach(function(t){n[r].forEach(function(e){o.push(t.concat(e))})}),c=o,e(n)}}(e)),c})},{}],3:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=e("zhf.random-num"),c=e("zhf.sku");new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var s=document.querySelectorAll(".prize-item"),a=document.querySelector(".lamp"),u=document.querySelector(".handle"),f=$(".btn-remainder-num"),t=$(".message"),l=$(".luck"),d=$(".luck-gift"),m=$(".btn"),e=$(".transparent"),n=$(".tel"),o=$(".rule"),h=3,p=null,y=!1,v=c([[1,2,3,4,5],[1,2,3,4,5],[1,2,3,4,5]]);function b(){e.addClass("transparent_show")}function w(){e.removeClass("transparent_show")}function _(e){t.addClass("message_show"),t.find(".message-info").html(e),clearTimeout(_.timer),_.timer=setTimeout(function(){r()},3e3)}function r(){t.removeClass("message_show")}v.forEach(function(e,t,n){e[0]===e[1]&&e[0]===e[2]&&n.splice(t,1)}),$(".rule-btn").on("click",function(){o.addClass("rule_show")}),$(".rule-close").on("click",function(){o.removeClass("rule_show")}),$(".handle-btn,.btn").on("click",function(){0!==h?/1\d{10}/.test(n.val())?(b(),y||(y=!0,$.ajax({url:"/lottery/getPrize",method:"get",data:{mobile:n.val()},dataType:"json",success:function(e){if("failure"===e.status)return _(e.message),y=!1,void w();var t=e.prizeInfo,r=t.prize_id,c=t.prize_name;h=e.left_lottery_count;var i=[];if(0===r){var n=v[g(0,v.length-1)];i=i.concat(n)}else for(var o=0;o<3;o++)i.push(r);u.classList.remove("handle_selected1"),u.classList.add("handle_selected2"),setTimeout(function(){u.classList.remove("handle_selected2"),u.classList.add("handle_selected3")},200),setTimeout(function(){var n,o;n=i,o=h,s.forEach(function(e,t){e.style.backgroundPosition="0 ".concat(-(15*(3-o+1)*667.5+133.5*(n[t]-1))/37.5+"rem")}),p=setInterval(function(){a.classList.toggle("lamp_selected")},80),setTimeout(function(){y=!1,w(),clearInterval(p),a.classList.remove("lamp_selected"),u.classList.remove("handle_selected3"),u.classList.add("handle_selected2"),setTimeout(function(){u.classList.remove("handle_selected2"),u.classList.add("handle_selected1")},200),f.html(h),m.addClass("btn_active"),0===r?_("未中奖!"):(l.addClass("luck_show"),b(),d.html(c))},3400)},200)}}))):_("请输入正确的11位手机号码!"):_("您今天的抽奖次数用完了!")}),$(".message-close").on("click",function(){r()}),$(".luck-close").on("click",function(){l.removeClass("luck_show"),w()})}}])&&r(t.prototype,n),o&&r(t,o),e}())},{"zhf.random-num":1,"zhf.sku":2}]},{},[3]);